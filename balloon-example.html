<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>d3-balloon example</title>

    <style type="text/css">
    body {
        background: lightgray;
    }

    #vis_container {
        background: white;
        width: 500px;
        margin-top: 50px;
        margin-left: auto;
        margin-right: auto;
    }
    </style>

    <script src="d3/d3.js"></script>
    <script src="d3-balloon.js"></script>
</head>
<body>

<div id="vis_container">

</div>

<script>
    var svg = d3.select("#vis_container").append("svg")
        .attr("width", 500)
        .attr("height", 300);

    var data = generateRandMat(5, 7, 0, 10);

    var xLabels = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
    var yLabels = ['Foo', 'Bar', 'Example', 'Foobar', 'Barfoo'];

    var yColor = d3.scaleOrdinal(d3.schemeCategory10);

    var transition = d3.transition()
        .duration(500)
        .ease(d3.easeLinear);

    var bplot = balloonplot(370, 200)
        .position(40, 60)
        .transition(transition)
        .colorScale('y', yColor)
        .data(data)
        .xAxis(d3.axisTop, xLabels)
        .yAxis(d3.axisRight, yLabels);

    svg.append(bplot)
        .attr("class", "balloon_plot");

    function randFloat(a, b) {
        return a + Math.random() * (b - a);
    }

    function generateRandMat(rows, cols, minVal, maxVal, round) {
        if (typeof(round)==='undefined') round = false;

        var mat = [];
        for (var i = 0; i < rows; i++) {
            var row = [];
            for (var j = 0; j < cols; j++) {
                var v = randFloat(minVal, maxVal);
                if (round) v = Math.round(v);
                row.push(v);
            }
            mat.push(row);
        }

        return mat;
    }

</script>

</body>
</html>